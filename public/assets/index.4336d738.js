var re=Object.defineProperty;var V=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var J=(t,s,r)=>s in t?re(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,q=(t,s)=>{for(var r in s||(s={}))ne.call(s,r)&&J(t,r,s[r]);if(V)for(var r of V(s))le.call(s,r)&&J(t,r,s[r]);return t};import{s as ie,a as ae,r as p,o as l,c as d,b as e,n as B,w as k,v as T,t as a,d as b,e as h,f,T as M,g,F as $,h as O,i as L,j as w,k as z,l as S,m as x,p as K,q as j,u as de,x as ce,y as X,z as ue,A as he,H as W,B as me}from"./vendor.7a041840.js";const pe=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};pe();var _=(t,s)=>{const r=t.__vccOpts||t;for(const[i,n]of s)r[i]=n;return r};const ge=ie(ae),_e={data(){return{value1:null,filterBy:{},modalGuests:!1,modalDate:!1,modalDestination:!1,modal4:!1,modal5:!1,searchIcon:ge,searchBarTaped:!0,modalOpen:!1,tapOut:!1}},created(){const t=this.$route.query;t.destination&&(this.filterBy.destination=t.destination),window.addEventListener("scroll",this.onScroll)},methods:{setSearchFiled(){const t=this.$route.query.destination;t?this.filterBy.destination=t:this.filterBy={}},closeAllModal(){this.tapOut=!1,this.modalGuests=!1,this.modalDestination=!1,this.modalDate=!1,this.modal4=!1,this.modal5=!1,this.modalOpen=!1},closeMdal(){this.closeAllModal()},onScroll(){this.closeAllModal()},add(t,s){if(t&&this.filterBy[s])this.filterBy[s]++;else if(t&&!this.filterBy[s])this.filterBy[s]=0,this.filterBy[s]++;else{if(this.filterBy[s]<=0)return;this.filterBy[s]--}},sendFilter(){this.modalGuests=!1,this.$router.push({path:"explore",query:{destination:this.filterBy.destination,adults:this.filterBy.adults,children:this.filterBy.children,infants:this.filterBy.infants,pets:this.filterBy.pets}}),this.closeAllModal()},clickedModal(t,s=null,r){if(t==="modalDate"){this.modalOpen=!0,s===4?this.modal4===!0?(this.modal4=!1,this.modalDate=!1,this.modalOpen=!1,this.tapOut=!1):(this.tapOut=!0,this.modal4=!0,this.modal5=!1,this.modalDate=!0,this.$refs.input.focus()):this.modal5===!0?(this.modal5=!1,this.modalDate=!1,this.modalOpen=!1,this.tapOut=!1):(this.$refs.input.focus(),this.modal5=!0,this.modal4=!1,this.modalDate=!0,this.tapOut=!0),this.modalGuests=!1,this.modalDestination=!1;return}else this.modal4=!1,this.modal5=!1;if(this[t]===!0){this[t]=!1,this.modalOpen=!1,this.tapOut=!1,this.tapOut=!1;return}this.modalGuests=!1,this.modalDate=!1,this.modalDestination=!1,this[t]=!0,this.modalOpen=!(this.modalGuests===!1&&this.modalDate===!1&&this.modalDestination===!1),this.modalDestination||this.modalGuests?this.tapOut=!0:this.tapOut=!1},onSelectDate(){this.$store.commit({type:"saveDate",selectedDate:this.value1}),console.log("this.value1",this.value1)},showDate(t){return this.value1?new Date(this.value1[t]).toDateString():"Add dates"}},computed:{children(){return this.filterBy.children}},watch:{"$route.params":{handler(){this.setSearchFiled()},deep:!0,immediate:!0}}},fe={class:"search-section"},ve={class:"search-bar"},ye={class:"flex"},we=e("p",{class:"bold title-tag"},"Location",-1),be=e("div",{class:"vert"},null,-1),$e=e("p",{class:"bold title-tag"},"Check in",-1),ke=e("div",{class:"vert"},null,-1),Oe=e("p",{class:"bold title-tag"},"Check out",-1),xe=e("div",{class:"vert"},null,-1),Se=e("div",{class:"last-line"},[e("p",{class:"bold title-tag"},"Guests"),e("p",null,"Add guests")],-1),Ce={class:"el-icon"},Be=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"16px",width:"16px",stroke:"currentcolor","stroke-width":"4",overflow:"visible"}},[e("g",{fill:"none"},[e("path",{d:"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"})])],-1),Me={key:0},Te={key:0,class:"modal"},De={class:"line flex"},Re=e("div",{class:"txt"},[e("h3",{class:"title-tag"},"Adults"),e("p",{class:"content"},"Age 13 or above")],-1),Ue={class:"flex main-line"},Ie={class:"number"},Pe={class:"line flex"},Le=e("div",{class:"txt"},[e("h3",{class:"title-tag"},"Children"),e("p",{class:"content"},"Age 2-12")],-1),Ae={class:"flex main-line"},Fe={class:"number"},Ne={class:"line flex"},He=e("div",{class:"txt"},[e("h3",{class:"title-tag"},"Infants"),e("p",{class:"content"},"Under 2")],-1),Ee={class:"flex main-line"},Ge={class:"number"},ze={class:"line flex"},je=e("div",{class:"txt"},[e("h3",{class:"title-tag"},"Pets"),e("p",{class:"content under-line"},"Bringing a service animal?")],-1),Ve={class:"flex main-line"},Je={class:"number"},qe=e("p",{class:"bottomModal"}," If you're lucky enough to have more than 2 pets with you, be sure to let your host know. ",-1),Ke={key:0,class:"modal-2"},We=e("h1",null,null,-1),Ye=[We],Qe={key:0,class:"modal-3"},Xe=e("h1",null,null,-1),Ze=[Xe],es={class:"demo-date-picker"},ss={class:"block"};function ts(t,s,r,i,n,o){const c=p("el-date-picker");return l(),d("section",fe,[e("div",ve,[e("div",ye,[e("div",{onClick:s[1]||(s[1]=u=>o.clickedModal("modalDestination")),class:B([n.modalDestination?"choose":"","filter-tag fd search-bar-right-btn"])},[we,k(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=u=>n.filterBy.destination=u),placeholder:"Where are you going?"},null,512),[[T,n.filterBy.destination]])],2),be,e("div",{onClick:s[2]||(s[2]=u=>o.clickedModal("modalDate",4,0)),class:B([n.modal4?"choose":"","filter-tag first-date"])},[$e,e("p",null,a(o.showDate(0)),1)],2),ke,e("div",{onClick:s[3]||(s[3]=u=>o.clickedModal("modalDate",5,1)),class:B([n.modal5?"choose":"","filter-tag first-date"])},[Oe,e("p",null,a(o.showDate(1)),1)],2),xe,e("div",{onClick:s[5]||(s[5]=u=>o.clickedModal("modalGuests")),class:B([n.modalGuests?"choose":"","filter-tag 4 ld"])},[Se,e("button",{onClick:s[4]||(s[4]=b((...u)=>o.sendFilter&&o.sendFilter(...u),["stop"])),class:B([[n.modalOpen?"small-padding":"large-padding"],"search-bar-btn demo-tracking"])},[e("i",Ce,[Be,n.modalOpen?(l(),d("span",Me,"search")):h("",!0)])],2)],2)])]),(l(),f(M,{to:"#models"},[n.modalGuests?(l(),d("div",Te,[e("div",De,[Re,e("div",Ue,[e("div",{onClick:s[6]||(s[6]=u=>o.add(0,"adults")),class:"div-btn"},"-"),e("p",Ie,a(n.filterBy.adults||0),1),e("div",{onClick:s[7]||(s[7]=u=>o.add(1,"adults")),class:"div-btn"},"+")])]),e("div",Pe,[Le,e("div",Ae,[e("div",{onClick:s[8]||(s[8]=u=>o.add(0,"children")),class:"div-btn"},"-"),e("p",Fe,a(o.children||0),1),e("div",{onClick:s[9]||(s[9]=u=>o.add(1,"children")),class:"div-btn"},"+")])]),e("div",Ne,[He,e("div",Ee,[e("div",{onClick:s[10]||(s[10]=u=>o.add(0,"infants")),class:"div-btn"},"-"),e("p",Ge,a(n.filterBy.infants||0),1),e("div",{onClick:s[11]||(s[11]=u=>o.add(1,"infants")),class:"div-btn"},"+")])]),e("div",ze,[je,e("div",Ve,[e("div",{onClick:s[12]||(s[12]=u=>o.add(0,"pets")),class:"div-btn"},"-"),e("p",Je,a(n.filterBy.pets||0),1),e("div",{onClick:s[13]||(s[13]=u=>o.add(1,"pets")),class:"div-btn"},"+")])]),qe])):h("",!0)])),(l(),f(M,{to:"#models"},[n.modalDate?(l(),d("div",Ke,Ye)):h("",!0)])),(l(),f(M,{to:"#models"},[n.modalDestination?(l(),d("div",Qe,Ze)):h("",!0)])),e("div",es,[e("div",ss,[g(c,{ref:"input",modelValue:n.value1,"onUpdate:modelValue":s[14]||(s[14]=u=>n.value1=u),type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",onInput:o.onSelectDate},null,8,["modelValue","onInput"])])]),n.tapOut?(l(),d("div",{key:0,onClick:s[15]||(s[15]=(...u)=>o.closeMdal&&o.closeMdal(...u)),class:"tap-close-modal"})):h("",!0)])}var os=_(_e,[["render",ts]]);const rs={name:"room-filter",created(){this.filterBy.roomType=this.$store.getters.filterByRoomType,this.filterBy.price=this.$store.getters.filterByPrice,window.addEventListener("scroll",this.scroll),console.log("this.filterBy.amenities",this.filterBy.amenities)},data(){return{tapOut:!1,modalType:!1,modalPrice:!1,value:null,filterBy:{amenities:[]}}},methods:{closeMdal(){this.tapOut=!1,this.modalType=!1,this.modalPrice=!1},scroll(){this.modalType=!1,this.modalPrice=!1},toggleModalType(){this.modalType=!this.modalType,this.tapOut=!this.tapOut},toggleModalPrice(){this.modalPrice=!this.modalPrice,this.tapOut=!this.tapOut},async sendFilterBy(){this.modalType=!1,this.modalPrice=!1,console.log("filterBy",this.filterBy),this.$store.commit({type:"setFilterByRoomType",filterBy:JSON.parse(JSON.stringify(this.filterBy))});try{await this.$store.dispatch({type:"loadRooms"}),this.setRouterParams()}catch(t){throw console.log("Cannot loadRooms",t),t}},onAmenities(t){this.filterBy.amenities.includes(t)?this.filterBy.amenities.pop():this.filterBy.amenities.push(t),console.log("amenities",t),this.$store.commit({type:"setAmenities",amenities:[...this.filterBy.amenities]}),this.setRouterParams()},setRouterParams(){const{price:t}=this.filterBy,{from:s,to:r}=t,i=[],n=this.$store.getters.filterBy,{roomType:o,amenities:c}=n,{entirePlace:u,privateRoom:m}=o;u&&i.push("Entire place"),m&&i.push("Private room"),this.$router.push({path:"explore",query:{destination:n.destination,adults:n.adults,children:n.children,infants:n.infants,pets:n.pets,roomType:i,pricefrom:s,priceTo:r,amenities:c}})},onChangePrice(t){const{from:s,to:r}=t;this.filterBy.price={from:s,to:r}}},computed:{pricesForDisplay(){return this.$store.getters.roomsPrices},amenitiesForShow(){return["Wifi","Kitchen","Air conditioning","Free canellation","Gym","Dryer","Pool","Elevator","TV","Essentials"]}}},ns={class:"room-filter"},ls=e("p",null,"Price",-1),is=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor","stroke-width":"5.33333",overflow:"visible"}},[e("g",{fill:"none"},[e("path",{d:"m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932"})])],-1),as=[ls,is],ds=e("p",null,"Type Of Place",-1),cs=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor","stroke-width":"5.33333",overflow:"visible"}},[e("g",{fill:"none"},[e("path",{d:"m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932"})])],-1),us=[ds,cs],hs=["onClick"],ms={key:0,class:"modals modal-type"},ps={class:"options"},gs={class:"filter-option"},_s=e("label",{for:"Entire"},[e("p",{class:"title-option"},"Entire place"),e("p",{class:"desc-option"},"Have a place to yourself")],-1),fs={class:"filter-option"},vs=e("label",{for:"Private"},[e("p",{class:"title-option"},"Private room"),e("p",{class:"desc-option"}," Have your own room and share some common spaces ")],-1),ys={class:"filter-option"},ws=e("label",{for:"Hotel"},[e("p",{class:"title-option"},"Hotel room"),e("p",{class:"desc-option"}," Have a private or shared room in a boutique hotel, hostel, and more ")],-1),bs={class:"filter-option"},$s=e("label",{for:"Shared"},[e("p",{class:"title-option"},"Shared room"),e("p",{class:"desc-option"}," Stay in a shared space, like a common room ")],-1),ks={class:"btns-area"},Os=e("button",{class:"clear"},"Clear",-1),xs={key:1,class:"modals modal-price",id:"app"},Ss={class:"options"},Cs={class:"btns-area"},Bs=e("button",{class:"clear"},"Clear",-1);function Ms(t,s,r,i,n,o){const c=p("HistogramSlider");return l(),d("section",ns,[e("button",{class:"filter-btn",onClick:s[0]||(s[0]=(...u)=>o.toggleModalPrice&&o.toggleModalPrice(...u))},as),e("button",{onClick:s[1]||(s[1]=(...u)=>o.toggleModalType&&o.toggleModalType(...u)),class:"filter-btn"},us),(l(!0),d($,null,O(o.amenitiesForShow,(u,m)=>(l(),d("button",{key:m,onClick:v=>o.onAmenities(u),class:"filter-btn"},[e("p",null,a(u),1)],8,hs))),128)),n.modalType?(l(),d("div",ms,[e("section",ps,[e("div",gs,[k(e("input",{"onUpdate:modelValue":s[2]||(s[2]=u=>n.filterBy.roomType.entirePlace=u),id:"Entire",type:"checkbox"},null,512),[[L,n.filterBy.roomType.entirePlace]]),_s]),e("div",fs,[k(e("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>n.filterBy.roomType.privateRoom=u),id:"Private",type:"checkbox"},null,512),[[L,n.filterBy.roomType.privateRoom]]),vs]),e("div",ys,[k(e("input",{id:"Hotel",type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=u=>n.filterBy.roomType.hotal=u)},null,512),[[L,n.filterBy.roomType.hotal]]),ws]),e("div",bs,[k(e("input",{"onUpdate:modelValue":s[5]||(s[5]=u=>n.filterBy.roomType.sharedRoom=u),id:"Shared",type:"checkbox"},null,512),[[L,n.filterBy.roomType.sharedRoom]]),$s])]),e("section",ks,[Os,e("button",{class:"save",onClick:s[6]||(s[6]=(...u)=>o.sendFilterBy&&o.sendFilterBy(...u))},"Save")])])):h("",!0),n.modalPrice?(l(),d("div",xs,[e("section",Ss,[g(c,{style:{margin:"200px auto"},width:400,"bar-height":100,data:o.pricesForDisplay,min:0,max:300,"force-edges":!1,colors:["#b0b0b0","#717171"],barWidth:6,onChange:o.onChangePrice},null,8,["data","onChange"])]),e("section",Cs,[Bs,e("button",{class:"save",onClick:s[7]||(s[7]=(...u)=>o.sendFilterBy&&o.sendFilterBy(...u))},"Save")])])):h("",!0),n.tapOut?(l(),d("div",{key:2,onClick:s[8]||(s[8]=(...u)=>o.closeMdal&&o.closeMdal(...u)),class:"tap-close-modal"})):h("",!0)])}var Ts=_(rs,[["render",Ms]]);const Ds={components:{},data(){return{}},methods:{openModalLogin(){console.log("hey"),this.$emit("openModalLogin")}}},Rs={class:"user-login-modal"},Us=e("button",null,"Sign up",-1),Is=e("div",{class:"break"},null,-1),Ps=e("button",null,"Host your home",-1),Ls=e("button",null,"Host an experience",-1),As=e("button",null,"Help",-1);function Fs(t,s,r,i,n,o){return l(),d("section",Rs,[e("button",{onClick:s[0]||(s[0]=(...c)=>o.openModalLogin&&o.openModalLogin(...c))},"Log in"),Us,Is,Ps,Ls,As])}var Ns=_(Ds,[["render",Fs]]);const Hs={name:"login-modal",props:{loginModalOpen:Boolean},data(){return{fullname:"",username:"",password:"",loggedInUser:null,signUp:!1}},created(){},methods:{async onLogin(){if(!(!this.username&&!this.password))try{await this.$store.dispatch({type:"login",username:this.username,password:this.password}),this.toggleShow()}catch(t){throw console.log("Cannot signup",t),t}},signup(){if(!(!this.fullname&&!this.username&&!this.password))try{this.$store.dispatch({type:"signUp",userSignUp:{fullname:this.fullname,username:this.username,password:this.password}}),this.toggleShow()}catch(t){throw console.log("Cannot signup",t),t}},onToggle(){this.signUp=!this.signUp},toggleShow(){this.$emit("closeLoginModal")},loggedinUser(){this.loggedInUser=this.$store.getters.loggedInUser}},computed:{getTitle(){return this.signUp?"Sign Up":"Log In"},getButton(){return this.signUp?"Log In":"Sign Up"}}},Es={class:"login-modal"},Gs={key:0,class:"modal-mask"},zs={class:"modal-wrapper"},js={class:"modal-container"},Vs=e("path",{d:"m6 6 20 20"},null,-1),Js=e("path",{d:"m26 6-20 20"},null,-1),qs=[Vs,Js],Ks={class:"modal-header"},Ws=e("div",{class:"modal-title"},[e("h1",null,"Welcome to Airbyy")],-1),Ys={key:0,class:"modal-body"},Qs=e("span",null,"Continue",-1),Xs=[Qs],Zs={key:1,class:"modal-body"},et=e("span",null,"Continue",-1),st=[et],tt={class:"modal-footer"};function ot(t,s,r,i,n,o){return l(),d("section",Es,[g(z,{name:"modal"},{default:w(()=>[r.loginModalOpen?(l(),d("div",Gs,[e("div",zs,[e("section",js,[(l(),d("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",onClick:s[0]||(s[0]=(...c)=>o.toggleShow&&o.toggleShow(...c)),class:"pointer"},qs)),e("div",Ks,[e("h4",null,a(o.getTitle),1)]),Ws,n.signUp?h("",!0):(l(),d("div",Ys,[k(e("input",{type:"text",placeholder:"username","onUpdate:modelValue":s[1]||(s[1]=c=>n.username=c)},null,512),[[T,n.username]]),k(e("input",{type:"text",placeholder:"password","onUpdate:modelValue":s[2]||(s[2]=c=>n.password=c)},null,512),[[T,n.password]]),e("button",{class:"demo-tracking",onClick:s[3]||(s[3]=b((...c)=>o.onLogin&&o.onLogin(...c),["prevent"]))},Xs)])),n.signUp?(l(),d("div",Zs,[k(e("input",{type:"text",placeholder:" Fullname","onUpdate:modelValue":s[4]||(s[4]=c=>n.fullname=c)},null,512),[[T,n.fullname]]),k(e("input",{type:"text",placeholder:" Username","onUpdate:modelValue":s[5]||(s[5]=c=>n.username=c)},null,512),[[T,n.username]]),k(e("input",{type:"text",placeholder:" Password","onUpdate:modelValue":s[6]||(s[6]=c=>n.password=c)},null,512),[[T,n.password]]),e("button",{class:"demo-tracking",onClick:s[7]||(s[7]=b((...c)=>o.signup&&o.signup(...c),["prevent"]))},st)])):h("",!0),e("div",tt,[e("button",{onClick:s[8]||(s[8]=(...c)=>o.onToggle&&o.onToggle(...c))},a(o.getButton),1)])])])])):h("",!0)]),_:1})])}var Z=_(Hs,[["render",ot]]),rt="/assets/logol.b5b50301.ico";const nt={name:"app-header",data(){return{headerOnTop:!0,currPage:"home",shrinkedHeader:!1,isUserModalOpen:!1,showModal:!1,tapOut:!1,params:"Add Place"}},components:{searchBar:os,roomFilter:Ts,userModalLog:Ns,loginModal:Z},created(){window.addEventListener("scroll",this.onScroll),this.$watch(()=>this.$route.params,(t,s)=>{this.setCurrPage()})},methods:{setSearchFiled(){const t=this.$route.query.destination;!t||(this.params=t)},closeModal(){this.isUserModalOpen=!1,this.showModal=!1,this.tapOut=!1},scrollToTop(){window.scrollTo(0,0)},onScroll(){this.shrinkedHeader=!0,window.scrollY>10?(this.headerOnTop=!1,this.currPage==="home"&&this.shrinkedHeader):(this.currPage==="home"&&(this.shrinkedHeader=!1),this.headerOnTop=!0)},checkPage(){return this.currPage==="home"},exstandHeader(){this.shrinkedHeader=!this.shrinkedHeader},setCurrPage(){let{name:t}=this.$route;t==="room-app"?this.currPage="explore":t==="room-details"?this.currPage="details":this.currPage="home"},getLayout(){switch(this.currPage){case"explore":return"header-explore-layout fixed";case"details":return"header-detail-layout";case"home":return"header-home-layout fixed";default:return"header-detail-layout"}},getLayoutExtanded(){switch(this.currPage){case"explore":return"header-explore-extanded";case"details":return"header-detail-extanded";case"home":return"header-home-extanded";default:return"header-detail-extanded"}},toggleUserModal(){this.isUserModalOpen=!this.isUserModalOpen,this.tapOut=!this.tapOut},getHomeStyle(){return this.headerOnTop&&this.currPage==="home"?{backgroundColor:"#00000000"}:{backgroundColor:"white"}},onOpenloginModal(){this.showModal=!0},closeLoginModal(){this.showModal=!1},openModalSignup(){},getfilterCenter(){return this.currPage==="explore"&&this.shrinkedHeader?{justifyContent:"flex-start"}:{justifyContent:"center"}}},computed:{getStyle(){return this.headerOnTop&&this.currPage==="home"?{color:"white"}:{color:"black"}},getLogoStyle(){return this.headerOnTop&&this.currPage==="home"?{color:"white"}:{color:"#ff385c"}},showFilter(){return!!(this.currPage==="explore"&&this.shrinkedHeader)}},watch:{"$route.params":{handler(){this.setSearchFiled()},deep:!0,immediate:!0}}},lt={class:"header-contact"},it={class:"home-btn"},at=e("h1",null,"air",-1),dt=e("img",{src:rt,alt:"home"},null,-1),ct=e("h1",null,"yy",-1),ut=[at,dt,ct],ht={class:"search-btn"},mt={key:0,class:"exploreSearch"},pt=x(" | Add dates | Add guests "),gt={key:1},_t=e("div",{class:"el-button el-button--danger el-button--large is-circle",type:"button"},[e("i",{class:"el-icon"},[e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("g",{fill:"none"},[e("path",{d:"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"})])])])],-1),ft=e("svg",{class:"lang-icon",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("path",{d:"m8.002.25a7.77 7.77 0 0 1 7.748 7.776 7.75 7.75 0 0 1 -7.521 7.72l-.246.004a7.75 7.75 0 0 1 -7.73-7.513l-.003-.245a7.75 7.75 0 0 1 7.752-7.742zm1.949 8.5h-3.903c.155 2.897 1.176 5.343 1.886 5.493l.068.007c.68-.002 1.72-2.365 1.932-5.23zm4.255 0h-2.752c-.091 1.96-.53 3.783-1.188 5.076a6.257 6.257 0 0 0 3.905-4.829zm-9.661 0h-2.75a6.257 6.257 0 0 0 3.934 5.075c-.615-1.208-1.036-2.875-1.162-4.686l-.022-.39zm1.188-6.576-.115.046a6.257 6.257 0 0 0 -3.823 5.03h2.75c.085-1.83.471-3.54 1.059-4.81zm2.262-.424c-.702.002-1.784 2.512-1.947 5.5h3.904c-.156-2.903-1.178-5.343-1.892-5.494l-.065-.007zm2.28.432.023.05c.643 1.288 1.069 3.084 1.157 5.018h2.748a6.275 6.275 0 0 0 -3.929-5.068z"})],-1),vt=[ft],yt=e("svg",{class:"humb-icon",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("g",{fill:"none","fill-rule":"nonzero"},[e("path",{d:"m2 16h28"}),e("path",{d:"m2 24h28"}),e("path",{d:"m2 8h28"})])],-1),wt=e("svg",{class:"user-icon",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("path",{d:"m16 .7c-8.437 0-15.3 6.863-15.3 15.3s6.863 15.3 15.3 15.3 15.3-6.863 15.3-15.3-6.863-15.3-15.3-15.3zm0 28c-4.021 0-7.605-1.884-9.933-4.81a12.425 12.425 0 0 1 6.451-4.4 6.507 6.507 0 0 1 -3.018-5.49c0-3.584 2.916-6.5 6.5-6.5s6.5 2.916 6.5 6.5a6.513 6.513 0 0 1 -3.019 5.491 12.42 12.42 0 0 1 6.452 4.4c-2.328 2.925-5.912 4.809-9.933 4.809z"})],-1);function bt(t,s,r,i,n,o){const c=p("search-bar"),u=p("room-filter"),m=p("router-link"),v=p("user-modal-log"),U=p("login-modal");return l(),d($,null,[e("section",{class:B(["app-header",o.getLayout()]),style:S(o.getHomeStyle())},[e("section",{class:B(["extanded-header",o.getLayoutExtanded()]),style:S(o.getfilterCenter())},[g(c,{class:"search-bar-outline",style:S({display:n.shrinkedHeader?"none":"block"})},null,8,["style"]),o.showFilter?(l(),f(u,{key:0,class:"extanded-explore-header"})):h("",!0)],6),e("section",lt,[e("section",it,[g(m,{onClick:o.scrollToTop,to:"/"},{default:w(()=>[e("section",{class:"home-btn-link",style:S(o.getLogoStyle)},ut,4)]),_:1},8,["onClick"])]),n.shrinkedHeader?(l(),d("section",{key:0,class:"search",onClick:s[0]||(s[0]=(...y)=>o.exstandHeader&&o.exstandHeader(...y))},[e("button",ht,[n.currPage==="explore"?(l(),d("h4",mt,[e("span",null,a(n.params),1),pt])):(l(),d("h4",gt,"Start your search")),_t])])):h("",!0),e("section",{class:"user-btn",style:S({color:n.headerOnTop?"black":" white"})},[g(m,{onClick:o.scrollToTop,to:"/explore"},{default:w(()=>[e("button",{class:"explore-btn-link",style:S(o.getStyle)},"Explore",4)]),_:1},8,["onClick"]),e("button",{class:"become-host-btn",style:S(o.getStyle)},"Become a Host",4),e("button",{class:"change-lang-btn",style:S(o.getStyle)},vt,4),e("button",{onClick:s[1]||(s[1]=(...y)=>o.toggleUserModal&&o.toggleUserModal(...y)),class:"user-info-btn"},[yt,wt,n.isUserModalOpen?(l(),f(v,{key:0,class:"user-info-modal",onOpenModalLogin:o.onOpenloginModal,onOpenModalSignup:o.openModalSignup},null,8,["onOpenModalLogin","onOpenModalSignup"])):h("",!0)])],4)]),(l(),f(M,{to:"body"},[g(U,{loginModalOpen:n.showModal,onClose:s[2]||(s[2]=y=>n.showModal=!1),onCloseLoginModal:o.closeLoginModal},{header:w(()=>[]),_:1},8,["loginModalOpen","onCloseLoginModal"])]))],6),n.tapOut?(l(),d("div",{key:0,onClick:s[3]||(s[3]=(...y)=>o.closeModal&&o.closeModal(...y)),class:"tap-close-modal"})):h("",!0)],64)}var $t=_(nt,[["render",bt]]);const kt={name:"app-footer"},Ot={class:"app-footer explore-layout"},xt=e("section",{class:"right-section"},[e("p",null,"\xA9 2022 Airbyy, Inc."),e("section",{class:"btn"},[x(" \xB7 "),e("a",null," Privacy"),x(" \xB7 "),e("a",null,"Terms"),x(" \xB7 "),e("a",null,"Sitemap")])],-1),St=[xt];function Ct(t,s,r,i,n,o){return l(),d("section",Ot,St)}var Bt=_(kt,[["render",Ct]]);const Mt={name:"App",components:{appHeader:$t,appFooter:Bt}},Tt={class:"app"};function Dt(t,s,r,i,n,o){const c=p("app-header"),u=p("router-view"),m=p("app-footer");return l(),d("section",Tt,[g(c),g(u),g(m)])}var Rt=_(Mt,[["render",Dt]]);const N={saveToStorage:Ut,loadFromStorage:It,makeId:Pt,getRandomInt:Lt};function Ut(t,s){sessionStorage.setItem(t,JSON.stringify(s)||null)}function It(t){let s=sessionStorage.getItem(t);return s?JSON.parse(s):void 0}function Pt(t=8){for(var s="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)s+=r.charAt(Math.floor(Math.random()*r.length));return s}function Lt(t,s){return t=Math.ceil(t),s=Math.floor(s),Math.floor(Math.random()*(s-t)+t)}const At={props:{destination:Object},methods:{country(t){this.$emit("goTo",t)}},computed:{getImg(){return`src/assets/img/${this.destination.address.city}.jpg`},getKm(){switch(this.destination.address.city){case"Montreal":return"9,537";case"Porto":return"3,970";case"New York":return"10,853";case"Barcelona":return"3,584"}}}},Ft=["src"],Nt={class:"location-title"};function Ht(t,s,r,i,n,o){return l(),d("section",{class:"home-page-preview",onClick:s[0]||(s[0]=c=>o.country(r.destination.address.city))},[e("img",{class:"preview-carousel",src:o.getImg,alt:""},null,8,Ft),e("div",Nt,[e("h1",null,a(r.destination.address.city),1),e("h6",null,a(o.getKm)+" kilometers away",1)])])}var Et=_(At,[["render",Ht]]),H="/assets/star.61aa61a4.png";const Gt={name:"room-preview",props:{room:Object},data(){return{}},components:{},methods:{scrollToTop(){window.scrollTo(0,0)},goToRoom(){this.$router.push(`/room/${this.room._id}`)}},computed:{getAvgRating(){return this.room.reviewScores.rating/20},imgForDisplay(){return this.room.imgUrls}}},zt={key:0,class:"room-preview"},jt={class:"preview-img-section"},Vt=["src"],Jt=e("svg",{class:"preview-like-btn",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("path",{d:"m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"})],-1),qt={class:"preview-details"},Kt={class:"preview-reviews"},Wt={class:"preview-rating"},Yt=e("img",{src:H,alt:""},null,-1),Qt={class:"rating"},Xt={class:"num-of-reviews"},Zt={class:"price"},eo=x(" / night ");function so(t,s,r,i,n,o){const c=p("el-carousel-item"),u=p("el-carousel"),m=p("router-link");return r.room?(l(),d("section",zt,[e("div",jt,[g(u,{class:"preview-carousel",autoplay:!1,trigger:"click",arrow:"hover"},{default:w(()=>[(l(!0),d($,null,O(o.imgForDisplay,v=>(l(),f(c,{key:v},{default:w(()=>[e("img",{onClick:s[0]||(s[0]=U=>(o.scrollToTop(),o.goToRoom())),src:`https://res.cloudinary.com/canjan22/image/upload/v1648083472/AirByy/${v}`,alt:"../assets/img/hero.jpg"},null,8,Vt)]),_:2},1024))),128)),Jt]),_:1})]),g(m,{to:`/room/${r.room._id}`},{default:w(()=>[e("div",qt,[e("div",Kt,[e("div",Wt,[Yt,e("span",Qt,a(o.getAvgRating),1),e("span",Xt,"("+a(r.room.numOfReviews)+")",1)])]),e("p",null,a(r.room.roomType)+" \xB7 "+a(r.room.address.city),1),e("p",null,a(r.room.name),1),e("p",null,[e("span",Zt,"$"+a(r.room.price),1),eo])])]),_:1},8,["to"])])):h("",!0)}var ee=_(Gt,[["render",so]]),to="/assets/hero.e7cd448a.jpg",oo="/assets/host.e06c6e07.jpg";const ro={name:"home-page",data(){return{rooms:null,topRated:null,loggedInUser:null}},components:{homePagePreview:Et,roomPreview:ee},methods:{scrollToTop(){window.scrollTo(0,0)},goTo(t){window.scrollTo(0,0),this.$router.push({path:"explore",query:{destination:t}})},topRooms(){const t=this.rooms.filter(r=>r.reviewScores.rating>80),s=N.getRandomInt(0,t.length-4);this.topRated=t.slice(s,s+4)},setDestination(){this.$store.commit({type:"saveDestination"})}},async created(){try{this.$store.commit({type:"clearFliterBy"}),await this.$store.dispatch({type:"loadRooms"}),this.rooms=this.$store.getters.rooms,this.setDestination(),await this.$store.dispatch({type:"loadUser"}),this.loggedInUser=this.$store.getters.loggedInUser,console.log("this.rooms",this.rooms)}catch(t){console.log("err",t)}},computed:{destinations(){return this.topRooms(),this.rooms.slice(1,5)}}},no={class:"home-page"},lo=e("section",{class:"main-hero"},[e("img",{src:to,alt:""})],-1),io={class:"home-page explore-layout page-layout"},ao=e("h1",{class:"destination-title"},"Inspiration for your next trip",-1),co={key:0,class:"grid-layout destination-navbar"},uo=e("h1",{class:"destination-title"},"Top rated",-1),ho={key:1,class:"grid-layout destination-navbar"},mo=e("div",{class:"become-host"},[e("div",{class:"home-host-btn"},[e("h1",null,[x(" Questions "),e("br"),x(" about"),e("br"),x(" hosting? ")]),e("button",null,"Ask a Superhost")]),e("div",{class:"img"},[e("img",{src:oo,alt:""})])],-1);function po(t,s,r,i,n,o){const c=p("home-page-preview"),u=p("room-preview");return l(),d("section",no,[lo,e("section",io,[ao,n.rooms?(l(),d("div",co,[(l(!0),d($,null,O(o.destinations,m=>(l(),d("div",{key:m._id},[g(c,{destination:m,onGoTo:o.goTo},null,8,["destination","onGoTo"])]))),128))])):h("",!0),uo,n.rooms?(l(),d("div",ho,[(l(!0),d($,null,O(n.topRated,m=>(l(),d("div",{key:m._id},[g(u,{room:m},null,8,["room"])]))),128))])):h("",!0),mo])])}var go=_(ro,[["render",po]]);const _o={name:"room-list",props:{rooms:{type:Array,required:!0}},components:{roomPreview:ee},created(){},data(){return{}},methods:{},computed:{}},fo={class:"room-list"},vo={class:"room-list-container"},yo={class:"grid-layout"};function wo(t,s,r,i,n,o){const c=p("room-preview");return l(),d("section",fo,[e("div",vo,[e("ul",yo,[(l(!0),d($,null,O(r.rooms,u=>(l(),d("li",{key:u._id},[g(c,{room:u},null,8,["room"])]))),128))])])])}var bo=_(_o,[["render",wo]]);const $o={name:"room-app",components:{roomList:bo},data(){return{rooms:null,searchedLocation:null,params:null}},async created(){try{await this.setCurrRooms(),this.searchedLocation=this.params.destination}catch(t){console.log("err",t)}},methods:{async setCurrRooms(){this.params=this.$route.query;try{await this.$store.dispatch({type:"filter",filterBy:JSON.parse(JSON.stringify(this.params))}),this.rooms=this.$store.getters.rooms}catch(t){throw console.log("Cannot load rooms",t),t}console.log("rooms changed after filter")}},computed:{getNumberOfRooms(){return this.$store.getters.rooms.length},getSearch(){return this.$store.getters.currSearch}},watch:{"$route.params":{handler(){console.log("hey"),this.setCurrRooms()},deep:!0,immediate:!0}}},ko={class:"room-app page-layout explore-layout header-recognaizer"},Oo={class:"alerts"};function xo(t,s,r,i,n,o){const c=p("room-list");return l(),d("section",ko,[e("div",Oo,[e("p",null,a(o.getNumberOfRooms)+" stays in "+a(n.searchedLocation),1)]),n.rooms&&n.rooms.length?(l(),f(c,{key:0,rooms:n.rooms},null,8,["rooms"])):h("",!0)])}var So=_($o,[["render",xo]]);const Co={name:"guests-modal",components:{},props:{currOrder:{type:Object}},created(){},data(){return{}},methods:{onCloseModal(){this.$emit("closeModal")},onRemove(t){this.$emit("onRemove",t)},onAdd(t){this.$emit("onAdd",t)}},computed:{}},Bo={class:"guests-modal"},Mo={class:"guests-line"},To=e("div",{class:"guests-title"},[e("h1",null,"Adults"),e("h4",null,"Age 13+")],-1),Do={class:"guests-actions"},Ro={class:"guests-line"},Uo=e("div",{class:"guests-title"},[e("h1",null,"Children"),e("h4",null,"Age 2-12")],-1),Io={class:"guests-actions"},Po={class:"guests-line"},Lo=e("div",{class:"guests-title"},[e("h1",null,"Infants"),e("h4",null,"Under 2")],-1),Ao={class:"guests-actions"},Fo={class:"guests-line"},No=e("div",{class:"guests-title"},[e("h1",null,"Pets"),e("h4",null,"Bringing a service animal?")],-1),Ho={class:"guests-actions"},Eo={class:"close-modal"};function Go(t,s,r,i,n,o){return l(),d("section",Bo,[e("div",null,[e("div",Mo,[To,e("div",Do,[e("button",{onClick:s[0]||(s[0]=b(c=>o.onRemove("adults"),["stop"]))},"-"),e("span",null,a(r.currOrder.guests.adults),1),e("button",{onClick:s[1]||(s[1]=b(c=>o.onAdd("adults"),["stop"]))},"+")])]),e("div",Ro,[Uo,e("div",Io,[e("button",{onClick:s[2]||(s[2]=b(c=>o.onRemove("children"),["stop"]))},"-"),e("span",null,a(r.currOrder.guests.children),1),e("button",{onClick:s[3]||(s[3]=b(c=>o.onAdd("children"),["stop"]))},"+")])]),e("div",Po,[Lo,e("div",Ao,[e("button",{onClick:s[4]||(s[4]=b(c=>o.onRemove("infants"),["stop"]))},"-"),e("span",null,a(r.currOrder.guests.infants),1),e("button",{onClick:s[5]||(s[5]=b(c=>o.onAdd("infants"),["stop"]))},"+")])]),e("div",Fo,[No,e("div",Ho,[e("button",{onClick:s[6]||(s[6]=b(c=>o.onRemove("pets"),["stop"]))},"-"),e("span",null,a(r.currOrder.guests.pets),1),e("button",{onClick:s[7]||(s[7]=b(c=>o.onAdd("pets"),["stop"]))},"+")])]),e("div",Eo,[e("button",{class:"close-btn",onClick:s[8]||(s[8]=(...c)=>o.onCloseModal&&o.onCloseModal(...c))},"Close")])])])}var zo=_(Co,[["render",Go]]);const jo={name:"modal-checkout",components:{guestsModal:zo},props:{room:{type:Object,require:!0},preOrder:{type:Object}},data(){return{openGuestsModal:!1,currOrder:this.preOrder,dates:null}},created(){},methods:{addGuests(){this.openGuestsModal=!this.openGuestsModal},onCloseModal(t){this.openGuestsModal=!1,this.currOrder.guests=t},onRemove(t){this.currOrder.guests[t]<=0||this.currOrder.guests[t]--},onAdd(t){this.currOrder.guests[t]+=1},onReserve(){const{_id:t,address:s,name:r}=this.room;this.currOrder.reserve.roomId=t,this.currOrder.dateOrdered=Date.now(),this.currOrder.totalAmount=this.calcTotalPriceWithServices,this.currOrder.reserve.destination=s.country,this.currOrder.reserve.roomName=r,console.log("this.currOrder",this.currOrder),this.$emit("onReserve",this.currOrder),this.currOrder.guests={adults:0,children:0,pets:0,infants:0}},showDate(t){if(!this.dates)return"Add dates";const s=new Date(this.dates[t]);return t===0?this.currOrder.dates.from=this.dates[t]:this.currOrder.dates.to=this.dates[t],s.toDateString()}},computed:{showPrice(){return this.room.price},avgReviewScores(){return this.room.reviewScores.rating/20},guestsForDisplay(){const t=this.currOrder.guests;let s=0;for(const r in t)s+=t[r];return s===0?"Add guest":`${s} guest`},daysCounter(){const s=new Date(this.dates[0]),r=new Date(this.dates[1]);return Math.round(Math.abs((s-r)/864e5))},totalPrice(){return this.dates?this.room.price*this.daysCounter:void 0},calcTotalPriceWithServices(){if(!this.dates)return;let t=this.room.price*this.daysCounter+this.showServiceFee+this.securityDeposit;return console.log("amount",t),t},set(){let t=document.querySelector(".tracking");t.addEventListener("mousemove",s=>{let r=s.target.getBoundingClientRect(),i=s.clientX-r.left,n=s.clientY-r.top;t.style.setProperty("--x",i+"px"),t.style.setProperty("--y",n+"px")})},showCheckReserveTxt(){const{from:t,to:s}=this.currOrder.dates;return t&&s?"Reserve":"Check avalability"},showCleanningFee(){if(!this.room.cleanningfee)return 0},showServiceFee(){function t(r,i){return r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r)+r)}return t(0,100)},securityDeposit(){return this.room.securityDeposit?this.room.securityDeposit:0}}},Vo={class:"modal-display-checkout sticky"},Jo={class:"checkout-modal"},qo={class:"checkout-container flex"},Ko={class:"tools-container flex space-between align-center"},Wo={class:"top-modal-container flex"},Yo={key:0},Qo={class:"price"},Xo=x(" / night "),Zo={class:"display-review-info flex"},er=e("span",null,[e("img",{src:H,alt:""})],-1),sr={key:0},tr={class:"under-line"},or={class:"display-order-container pointer"},rr={class:"checkin-checkout-container flex"},nr={class:"checkin-btn"},lr={class:"modal-date-btn flex"},ir={class:"add-dates-container right-border"},ar=e("div",{class:"checkin-out"},"CHECK-IN",-1),dr={class:"add-date"},cr={class:"add-dates-container"},ur=e("div",{class:"checkin-out"},"CHECKOUT",-1),hr={class:"add-date"},mr=e("div",{class:"guests"},"GUESTS",-1),pr={key:0,class:"guests-val"},gr=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false"},[e("g",{fill:"none"},[e("path",{d:"m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932"})])],-1),_r={key:0,class:"reserve-modal"},fr=e("span",{class:"reserve-msg"},"You won't be charged yet",-1),vr={class:"reserve-title"},yr=e("span",{class:"reserve-title"},"Cleanning fee ",-1),wr=e("span",{class:"reserve-title"},"Service fee ",-1),br=e("p",null,[e("span",{class:"reserve-title"},"Occupancy taxes and fees "),e("span",null,"$0")],-1),$r={key:0},kr=e("span",{class:"reserve-title"},"Security deposite",-1),Or={class:"reserve-total"},xr=e("span",null,"Total",-1);function Sr(t,s,r,i,n,o){const c=p("el-date-picker"),u=p("guests-modal");return l(),d("section",Vo,[e("div",Jo,[e("div",qo,[e("div",Ko,[e("div",Wo,[r.room?(l(),d("div",Yo,[e("span",Qo,"$"+a(o.showPrice),1),Xo])):h("",!0),e("div",Zo,[er,r.room?(l(),d("span",sr,a(o.avgReviewScores)+" \xB7 ",1)):h("",!0),e("span",tr,a(r.room.numOfReviews)+" reviews",1)])]),e("div",or,[e("div",rr,[e("div",nr,[e("div",lr,[e("div",ir,[ar,e("div",dr,a(o.showDate(0)),1),g(c,{modelValue:n.dates,"onUpdate:modelValue":s[0]||(s[0]=m=>n.dates=m),type:"daterange","start-placeholder":"CHECK-IN","end-placeholder":"CHECKOUT"},null,8,["modelValue"])]),e("div",cr,[ur,e("div",hr,a(o.showDate(1)),1)])]),e("div",{class:"add-guests-container flex space-between",onClick:s[1]||(s[1]=b((...m)=>o.addGuests&&o.addGuests(...m),["stop"]))},[e("div",null,[mr,o.guestsForDisplay?(l(),d("span",pr,a(o.guestsForDisplay),1)):h("",!0)]),gr]),n.openGuestsModal?(l(),f(u,{key:0,currOrder:n.currOrder,onCloseModal:o.onCloseModal,onOnRemove:o.onRemove,onOnAdd:o.onAdd},null,8,["currOrder","onCloseModal","onOnRemove","onOnAdd"])):h("",!0)])]),e("button",{class:"availability-container tracking",ref:"button",onClick:s[2]||(s[2]=(...m)=>o.onReserve&&o.onReserve(...m)),onMousemove:s[3]||(s[3]=(...m)=>o.set&&o.set(...m))},[e("span",null,a(o.showCheckReserveTxt),1)],544)]),n.dates?(l(),d("section",_r,[fr,e("p",null,[e("span",vr,"$"+a(r.room.price)+" x "+a(o.daysCounter)+" nights ",1),e("span",null,"$"+a(o.totalPrice),1)]),e("p",null,[yr,e("span",null,"$"+a(o.showCleanningFee),1)]),e("p",null,[wr,e("span",null,"$"+a(o.showServiceFee),1)]),br,r.room.securityDeposit?(l(),d("p",$r,[kr,e("span",null,"$"+a(o.securityDeposit),1)])):h("",!0),e("p",Or,[xr,e("span",null,"$"+a(o.calcTotalPriceWithServices),1)])])):h("",!0)])])])])}var Cr=_(jo,[["render",Sr]]);const Br={name:"review",components:{},props:{room:{type:Object,require:!0}},data(){return{avatar:"",showMore:{idx:!1}}},created(){},computed:{reviewScore(){const{accuracy:t,cleanliness:s,checkin:r,communication:i,location:n,value:o}=this.room.reviewScores;return{accuracy:t,cleanliness:s,checkin:r,communication:i,location:n,value:o}},avgReviewScores(){return this.room.reviewScores.rating/20}},methods:{adjustTxt(t){return t.length<=170?t:t.substring(0,170)+"..."},showUnshow(t){this.showMore[t]=!this.showMore[t]},isLongReview(t){return t>=170},getReviewDate(t){const s=new Date(t),r=s.toDateString().substring(11,15);return s.toDateString().substring(4,7)+" "+r}}},Mr={class:"room-review"},Tr={class:"review-score"},Dr={class:"room-reviews-header"},Rr={class:"container flex flex-start"},Ur=e("span",{class:"star-review"},[e("img",{src:H,alt:""})],-1),Ir={key:0,class:"reviews"},Pr={class:"score-list-container"},Lr={key:0},Ar={class:"flex space-between"},Fr={class:"progress-container"},Nr={class:"flex"},Hr={class:"room-review-list"},Er={class:"review-list-container clean-list"},Gr={class:"review-header"},zr={class:"avatar-container"},jr={class:"review-by-container flex"},Vr={class:"container"},Jr={class:"name"},qr={class:"date"},Kr=["onClick"],Wr=e("p",null,"Show more",-1),Yr=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor","stroke-width":"5.33333",overflow:"visible"}},[e("g",{fill:"none"},[e("path",{d:"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932"})])],-1),Qr=[Wr,Yr];function Xr(t,s,r,i,n,o){const c=p("el-progress"),u=p("el-avatar");return l(),d("section",Mr,[e("section",Tr,[e("div",Dr,[e("div",Rr,[Ur,r.room.reviewScores?(l(),d("span",Ir,a(o.avgReviewScores)+" \xB7 "+a(r.room.numOfReviews)+" Reviews",1)):h("",!0)]),e("div",Pr,[r.room.reviewScores?(l(),d("ul",Lr,[(l(!0),d($,null,O(o.reviewScore,(m,v)=>(l(),d("li",{class:"clean-list",key:v},[e("div",Ar,[e("div",Fr,a(v),1),e("div",Nr,[g(c,{class:"progress-bar",percentage:m*10},{default:w(()=>[e("span",null,a(m/2),1)]),_:2},1032,["percentage"])])])]))),128))])):h("",!0)])])]),e("section",Hr,[e("ul",Er,[(l(!0),d($,null,O(r.room.reviews,(m,v)=>(l(),d("li",{class:"review-preview-container",key:v},[e("section",Gr,[e("div",null,[e("div",zr,[e("div",jr,[g(u,{size:56,src:`https://res.cloudinary.com/canjan22/image/upload/v1648736344/avatars/${v}.jpg`},null,8,["src"]),e("div",Vr,[e("h3",Jr,a(m.by.fullname),1),e("h3",qr,a(o.getReviewDate(m.at)),1)])])])]),e("p",null,a(n.showMore[v]?m.txt:o.adjustTxt(m.txt)),1),o.isLongReview(m.txt.length)?(l(),d("button",{key:0,onClick:U=>o.showUnshow(v),class:"show-more-btn"},Qr,8,Kr)):h("",!0)])]))),128))])])])}var Zr=_(Br,[["render",Xr]]);const en={name:"reserve-modal",props:{show:Boolean,loggedInUser:Object,preOrder:Object},data(){return{order:this.preOrder}}},sn={key:0,class:"modal-mask"},tn={class:"modal-wrapper"},on={class:"modal-container"},rn=e("div",{class:"modal-header"},null,-1),nn={class:"modal-body"},ln=e("h3",null,"Your order has been accepted",-1),an=e("h3",null,"You order for a room:",-1),dn=e("h4",null,"Total paid",-1),cn={key:0},un={key:1},hn={key:2},mn={key:3},pn={class:"modal-footer"};function gn(t,s,r,i,n,o){return l(),f(z,{name:"modal"},{default:w(()=>[r.show?(l(),d("div",sn,[e("div",tn,[e("div",on,[rn,e("div",nn,[K(t.$slots,"body",{},()=>[e("h2",null,"Thank you Ben"+a(r.loggedInUser.fullname),1),ln]),e("div",null,[an,e("span",null,a(n.order.reserve.roomName),1),dn,n.order.guests.adults?(l(),d("span",cn,a(n.order.guests.adults),1)):h("",!0),n.order.guests.children?(l(),d("span",un,a(n.order.guests.children),1)):h("",!0),n.order.guests.infants?(l(),d("span",hn,a(n.order.guests.infants),1)):h("",!0),n.order.guests.pets?(l(),d("span",mn,a(n.order.guests.pets),1)):h("",!0),e("span",null,"$"+a(n.order.totalAmount),1),e("pre",null,a(n.order),1)])]),e("div",pn,[K(t.$slots,"footer",{},()=>[e("button",{class:"modal-default-button",onClick:s[0]||(s[0]=c=>t.$emit("close"))}," OK ")])])])])])):h("",!0)]),_:3})}var _n=_(en,[["render",gn]]);const fn={name:"ask-login",props:{showAskLoginModal:Boolean},data(){return{loginModalOpen:!1}},components:{loginModal:Z},methods:{onLogin(){this.loginModalOpen=!0},closeLoginModal(){this.loginModalOpen=!1,this.$emit("close")}}},vn={class:"ask-login"},yn={key:0,class:"modal-mask"},wn={class:"modal-wrapper"},bn={class:"modal-container"},$n=e("path",{d:"m6 6 20 20"},null,-1),kn=e("path",{d:"m26 6-20 20"},null,-1),On=[$n,kn],xn=e("div",{class:"modal-header"},[e("h1",{name:"header"},"Please Login first to continue")],-1),Sn={class:"modal-body"},Cn=e("span",null," Log in",-1),Bn=[Cn],Mn={class:"modal-footer"},Tn={name:"footer"};function Dn(t,s,r,i,n,o){const c=p("login-modal");return l(),d("section",vn,[g(z,{name:"modal"},{default:w(()=>[r.showAskLoginModal?(l(),d("div",yn,[e("div",wn,[e("div",bn,[(l(),d("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",onClick:s[0]||(s[0]=(...u)=>o.closeLoginModal&&o.closeLoginModal(...u))},On)),xn,e("div",Sn,[e("button",{class:"demo-tracking",id:"show-modal",onClick:s[1]||(s[1]=(...u)=>o.onLogin&&o.onLogin(...u))},Bn)]),e("div",Mn,[e("div",Tn,[e("button",{class:"modal-default-button",onClick:s[2]||(s[2]=u=>t.$emit("close"))}," Stay guest ")])])])])])):h("",!0)]),_:1}),(l(),f(M,{to:"body"},[g(c,{loginModalOpen:n.loginModalOpen,onCloseLoginModal:o.closeLoginModal},{header:w(()=>[]),_:1},8,["loginModalOpen","onCloseLoginModal"])]))])}var Rn=_(fn,[["render",Dn]]);const Un={name:"room-detail",data(){return{room:null,preOrder:{},isOrderSuccesses:!1,showModal:!1,loggedInUser:null,showAskLoginModal:!1,avatar:null}},components:{modalCheckout:Cr,roomReview:Zr,reserveModal:_n,askLogin:Rn},async created(){this.loggedInUser={username:"Ben",password:"1234"},console.log("this.loggedInUser",this.loggedInUser);const{roomId:t}=this.$route.params;this.preOrder=this.$store.getters.getPreOrder;try{this.room=await this.$store.dispatch({type:"getRoom",id:t})}catch(s){throw console.log("err",s),s}},methods:{sendReserve(t){if(!this.loggedInUser){this.showAskLoginModal=!0;return}console.log("order",t),this.preOrder=t,this.$store.dispatch({type:"addOrder",order:t}),this.showModal=!0,this.changeStatusOrder()},replaceByDefault(t){t.target.src="src/assets/icons/other.svg"},replaceImgByDefault(t){t.target.src="src/assets/img/hero.jpg"},changeStatusOrder(){this.isOrderSuccesses=!this.isOrderSuccesses},onClose(){this.showModal=!1,this.changeStatusOrder()}},computed:{showGreatloc(){return this.room.reviewScores.location},avgReviewScores(){return this.room.reviewScores.rating/20},amenitiesForDisplay(){return this.room.amenities.slice(0,8)},imgForDisplay(){return this.room.imgUrls},svgForDisplay(t){t=t.replace(/\s/g,"")},getLoggedInUser(){return this.$store.getters.loggedInUser}},watch:{getLoggedInUser:{handler(t,s){this.loggedInUser=this.getLoggedInUser},flush:"post"}}},In={key:0,class:"room-detail detail-layout page-layout details-header-recognaizer"},Pn={class:"room-short-detail flex align-center space-between"},Ln={class:"short-detail-container flex"},An={class:"star-review"},Fn=e("img",{src:H,alt:""},null,-1),Nn={class:"review-scores"},Hn={class:"under-line"},En=e("p",null,"\xB7",-1),Gn={class:"address"},zn={class:"under-line"},jn={class:"under-line"},Vn=e("div",{class:"options-btn flex"},[e("button",{class:"flex"},[e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"16px",width:"16px",stroke:"currentcolor","stroke-width":"2",overflow:"visible"}},[e("g",{fill:"none"},[e("path",{d:"M27 18v9a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-9"}),e("path",{d:"M16 3v23V3z"}),e("path",{d:"M6 13l9.293-9.293a1 1 0 0 1 1.414 0L26 13"})])]),e("p",{class:"under-line"},"Share")]),e("button",{class:"flex"},[e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"16px",width:"16px",stroke:"currentcolor","stroke-width":"2",overflow:"visible"}},[e("path",{d:"m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"})]),e("p",{class:"under-line"},"Save")])],-1),Jn={class:"imgs-container grid"},qn=["src"],Kn={class:"room-detail-info flex"},Wn={class:"info-side"},Yn={class:"room-present-info"},Qn={class:"info"},Xn={class:"short-info-container"},Zn={class:"info-line"},el=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"}},[e("path",{d:"m24.3334 1.66675c1.0543745 0 1.9181663.81587127 1.9945143 1.85073677l.0054857.14926323-.00065 24.666 3.00065.00075v2h-26.66665v-2l3-.00075v-24.666c0-1.05436681.81587301-1.91816558 1.850737-1.99451429l.149263-.00548571zm-4.00065 2h-12.666l-.00075 24.66625 12.66675-.00025zm4.00065 0h-2.00065v24.666l2.00025.00025zm-7.0001 11.00002c.7363778 0 1.33333.5969522 1.33333 1.33333s-.5969522 1.33333-1.33333 1.33333-1.33333-.5969522-1.33333-1.33333.5969522-1.33333 1.33333-1.33333z"})],-1),sl={class:"container"},tl={class:"title"},ol={class:"subtitle"},rl={key:0},nl={class:"info-line"},ll=e("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"}},[e("path",{d:"M16 0c6.627 0 12 5.373 12 12 0 6.337-3.814 12.751-11.346 19.257L16 31.82l-1.076-.932C7.671 24.509 4 18.218 4 12 4 5.423 9.397 0 16 0zm0 2C10.504 2 6 6.525 6 12c0 5.44 3.249 11.118 9.831 17.02l.169.149.576-.518c6.178-5.65 9.293-11.092 9.42-16.318L26 12c0-5.523-4.477-10-10-10zm0 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"})],-1),il={class:"container"},al={class:"title"},dl={class:"subtitle"},cl={class:"info-line"},ul=["src"],hl={class:"container"},ml={class:"title"},pl=e("p",{class:"subtitle"}," Guests often search for this popular amenity ",-1),gl={class:"descripation-container"},_l={class:"discription"},fl={class:"offer-info-container"},vl=e("h2",null,"What this place to offers",-1),yl={class:"clean-list flex"},wl=["src"],bl={class:"max-height"},$l=e("h3",null,"custom header",-1),kl=e("h3",null,"custom header",-1);function Ol(t,s,r,i,n,o){const c=p("el-avatar"),u=p("modal-checkout"),m=p("room-review"),v=p("reserve-modal"),U=p("ask-login");return n.room?(l(),d("section",In,[e("h1",null,a(n.room.name),1),e("section",Pn,[e("div",Ln,[e("div",An,[Fn,e("h4",Nn,a(o.avgReviewScores)+" \xB7",1)]),e("h4",Hn,a(n.room.numOfReviews)+" Reviews",1),En,e("div",Gn,[e("h4",zn,a(n.room.address.city),1),e("h4",jn,a(n.room.address.street),1)])]),Vn]),e("section",Jn,[(l(!0),d($,null,O(o.imgForDisplay,y=>(l(),d("img",{key:y,src:`https://res.cloudinary.com/canjan22/image/upload/v1648083472/AirByy/${y}`,onError:s[0]||(s[0]=(...E)=>o.replaceImgByDefault&&o.replaceImgByDefault(...E)),alt:"room img"},null,40,qn))),128))]),e("article",Kn,[e("div",Wn,[e("div",Yn,[e("div",Qn,[e("h2",null,a(n.room.roomType)+" rental unit hosted by "+a(n.room.host.fullname),1),e("h5",null,a(n.room.capacity)+" Guests \xB7 "+a(n.room.beds)+" Beds \xB7 "+a(n.room.bedrooms)+" Bedrooms \xB7 "+a(n.room.bathrooms)+" Bathrooms ",1)]),e("div",null,[g(c,{size:56,src:"https://res.cloudinary.com/canjan22/image/upload/v1648736344/avatars/19.jpg"},null,8,["src"])])]),e("div",Xn,[e("div",Zn,[el,e("div",sl,[e("p",tl,a(n.room.propertyType),1),e("p",ol,a(n.room.roomType),1)])]),`${o.showGreatloc>8}`?(l(),d("form",rl,[e("div",nl,[ll,e("div",il,[e("p",al,"Great location "+a(o.showGreatloc),1),e("p",dl," 90% of recent guests gave the location a "+a(o.showGreatloc)+" scores ",1)])])])):h("",!0),e("div",cl,[e("img",{src:`src/assets/icons/${n.room.amenities[0].replace(/\s/g,"")}.svg`,alt:""},null,8,ul),e("div",hl,[e("p",ml,a(n.room.amenities[0]),1),pl])])]),e("div",gl,[e("p",_l,a(n.room.summary),1)]),e("div",fl,[vl,e("ul",yl,[(l(!0),d($,null,O(o.amenitiesForDisplay,(y,E)=>(l(),d("li",{key:E},[e("img",{src:`src/assets/icons/${y.replace(/\s/g,"")}.svg`,onError:s[1]||(s[1]=(...oe)=>o.replaceByDefault&&o.replaceByDefault(...oe)),alt:"Icon Missed"},null,40,wl),e("p",null,a(y),1)]))),128))])])]),e("div",bl,[n.room?(l(),f(u,{key:0,preOrder:n.preOrder,onOnReserve:o.sendReserve,room:n.room},null,8,["preOrder","onOnReserve","room"])):h("",!0)])]),n.room?(l(),f(m,{key:0,room:n.room},null,8,["room"])):h("",!0),(l(),f(M,{to:"body"},[n.loggedInUser&&n.isOrderSuccesses?(l(),f(v,{key:0,show:n.showModal,onClose:o.onClose,loggedInUser:n.loggedInUser,preOrder:n.preOrder},{header:w(()=>[$l]),_:1},8,["show","onClose","loggedInUser","preOrder"])):h("",!0)])),(l(),f(M,{to:"body"},[g(U,{showAskLoginModal:n.showAskLoginModal,onClose:s[2]||(s[2]=y=>n.showAskLoginModal=!1),onToggleShow:s[3]||(s[3]=y=>t.show=!1)},{header:w(()=>[kl]),_:1},8,["showAskLoginModal"])]))])):h("",!0)}var xl=_(Un,[["render",Ol]]);const Sl={name:"room-edit",data(){return{}},computed:{},methods:{}},Cl={class:"room-edit page-layout"};function Bl(t,s,r,i,n,o){return l(),d("section",Cl,"EDIT")}var Ml=_(Sl,[["render",Bl]]);const Tl={},Dl={class:"dashboard"},Rl=e("h1",null,"Hello dashboard",-1),Ul=j("<div><span>Total Rate</span><span>Avg</span><span>Reviews</span></div><div><span>Total Revenus</span></div><div><span>Orders</span><span>Orders</span></div><div><span>Guests</span><span>Guests</span></div><div><span>Date</span><span>Book by</span><span>Place</span><span>Trip dates</span><span>nights</span><span>Amount</span><span>Status</span></div>",5);function Il(t,s,r,i,n,o){return l(),d("section",Dl,[Rl,e("pre",null,a(t.orders),1),Ul])}var Pl=_(Tl,[["render",Il]]);const Ll={name:"dashboard",components:{},async created(){await this.$store.dispatch({type:"loadOrders"}),this.orders=this.$store.getters.orders,console.log("this.orders",this.orders)},data(){return{orders:[],hostLoggin:null}},methods:{guestsAmount(t){let s=0;for(const r in t)s+=t[r];return s===0?"":s===1?`guest ${s}`:`guests ${s}`},dateForDisplay(t){const s=new Date(t);return s.toDateString().substring(11,15),s.toDateString().substring(4,7),s.toDateString()},dateOrderedForDisplay(t){return new Date(t).toLocaleString()}},computed:{}},Al={class:"dashboard explore-layout page-layout details-header-recognaizer"},Fl=e("h1",null,"Hello dashboard",-1),Nl={class:"main-layout-dashboard"},Hl={class:"dashboard-chart"},El=j('<div class="dashboard-line dashboard-title"><div class="dashboard-name">Place</div><div class="dashboard-order-date">Booking time</div><div class="dashboard-date">Dates</div><div class="dashboard-amount">Amount</div><div class="dashboard-user">Name</div><div class="dashboard-status">Status</div></div>',1),Gl={key:0},zl={class:"dashboard-name"},jl={class:"dashboard-order-date"},Vl={class:"dashboard-date"},Jl={class:"dashboard-amount"},ql={class:"dashboard-user"},Kl={class:"dashboard-status"},Wl=j('<div class="dashboard-modals-area"><div><span>Total Rate</span><span>Avg</span><span>Reviews</span></div><div><span>Total Revenus</span></div><div><span>Orders</span><span>Orders</span></div><div><span>Guests</span><span>Guests</span></div></div>',1);function Yl(t,s,r,i,n,o){return l(),d("section",Al,[Fl,e("div",Nl,[e("div",Hl,[El,n.orders?(l(),d("ul",Gl,[(l(!0),d($,null,O(n.orders,c=>(l(),d("li",{class:"dashboard-line",key:c._id},[e("div",zl,[e("span",null,a(c.reserve.roomName),1)]),e("div",jl,[e("span",null,a(o.dateOrderedForDisplay(c.dateOrdered)),1)]),e("div",Vl,[e("span",null,a(o.dateForDisplay(c.dates.from)),1),e("span",null,a(o.dateForDisplay(c.dates.to)),1)]),e("div",Jl,a(o.guestsAmount(c.guests)),1),e("div",ql,a(o.guestsAmount(c.guests)),1),e("div",Kl,[e("button",{class:"dashboard-approve",onClick:s[0]||(s[0]=(...u)=>t.onReponse&&t.onReponse(...u))}," Approve "),e("button",{class:"dashboard-decline",onClick:s[1]||(s[1]=(...u)=>t.onReponse&&t.onReponse(...u))}," Decline ")])]))),128))])):h("",!0)]),Wl])])}var Ql=_(Ll,[["render",Yl]]);const Xl=de({history:ce(),routes:[{path:"/",name:"HomePage",component:go},{path:"/test",component:Pl},{path:"/dashboard",component:Ql},{path:"/explore",name:"room-app",component:So},{path:"/room/:roomId",name:"room-details",component:xl},{path:"/room/edit/:roomId?",name:"room-edit",component:Ml}]}),Zl="/api/";var ei=X.create({withCredentials:!0});const C={get(t,s){return A(t,"GET",s)},post(t,s){return console.log("data",s),A(t,"POST",s)},put(t,s){return A(t,"PUT",s)},delete(t,s){return A(t,"DELETE",s)}};async function A(t,s="GET",r=null){console.log(t);try{return(await ei({url:`${Zl}${t}`,method:s,data:r,params:s==="GET"?r:null})).data}catch(i){throw console.log(`Had Issues ${s}ing to the backend, endpoint: ${t}, with data: ${r}`),console.dir(i),i.response&&i.response.status===401&&window.location.assign("/login"),i}}const se={query:D,get:si,post:ti,put:ri,remove:ni,postMany:oi,save:P};function D(t){var s=JSON.parse(localStorage.getItem(t))||[];return Promise.resolve(s)}function si(t,s){return D(t).then(r=>r.find(i=>i._id===s))}function ti(t,s){return s._id=li(),D(t).then(r=>(r.push(s),P(t,r),s))}function oi(t,s){return D(t).then(r=>(r.push(...s),P(t,r),r))}function ri(t,s){return D(t).then(r=>{const i=r.findIndex(n=>n._id===s._id);return r.splice(i,1,s),P(t,r),s})}function ni(t,s){return D(t).then(r=>{const i=r.findIndex(n=>n._id===s);if(i===-1)return Promise.reject(`Unknown Entity ${t} with Id: ${s}`);r.splice(i,1),P(t,r)})}function P(t,s){localStorage.setItem(t,JSON.stringify(s))}function li(t=8){for(var s="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)s+=r.charAt(Math.floor(Math.random()*r.length));return s}const G="room/",ii="room_db",Y={query:ai,getById:di,save:ci,getEmptyRoom:ui};async function ai(t){try{return C.get(G,t)}catch(s){console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data:`,data),console.dir(s)}return await C.get(G,t)}async function di(t){try{return await C.get(`${G}/${t}`)}catch{console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data:`,data),console.dir(err)}}async function ci(t){return await se._save(ii,t)}function ui(){}var hi={state:{rooms:null,destination:null,filterBy:{amenities:[],destination:"",adults:0,children:0,infants:0,pets:0,roomType:{entirePlace:!1,privateRoom:!1,hotelRoom:!1,sharedRoom:!1},price:{from:null,to:null}},homeRooms:null},getters:{rooms(t){return JSON.parse(JSON.stringify(t.rooms))},destinations(t){return JSON.parse(JSON.stringify(t.destination))},currSearch({filterBy:t}){return t.destination},filterBy(t){return console.log("state.filterBy",t.filterBy),JSON.parse(JSON.stringify(t.filterBy))},filterByRoomType(t){const{roomType:s}=t.filterBy;return JSON.parse(JSON.stringify(s))},filterByPrice(t){return q({},t.filterBy.price)},roomsPrices(t){let s=[];return t.rooms.forEach(r=>{s.push(r.price)}),s}},mutations:{setRooms(t,{rooms:s}){t.rooms=s,console.log("state.rooms",t.rooms)},removeRoom(t,{id:s}){const r=t.rooms.findIndex(i=>i._id===s);t.rooms.splice(r,1)},saveRoom(t,{savedRoom:s}){const r=t.rooms.findIndex(i=>i._id===s._id);r!==-1?t.rooms.splice(r,1,s):t.rooms.push(s)},setFilter(t,{filterBy:s}){const{destination:r,adults:i,children:n,infants:o,pets:c}=s;t.filterBy.destination=r,t.filterBy.adults=i,t.filterBy.children=n,t.filterBy.infants=o,t.filterBy.pets=c},setFilterByRoomType(t,{filterBy:s}){const{roomType:r,price:i}=s;t.filterBy.roomType=r,t.filterBy.price=i},setAmenities(t,{amenities:s}){console.log("amenities",s),t.filterBy.amenities=Object.values(s)},saveDestination(t){const s=t.rooms.filter(r=>r.address.country);t.destination=s},clearFliterBy(t){t.filterBy={destination:"",adults:0,children:0,infants:0,pets:0,roomType:{entirePlace:!1,privateRoom:!1,hotelRoom:!1,sharedRoom:!1},price:{min:null,max:null},amenities:[]}}},actions:{async loadRooms({commit:t,state:s}){console.log("state.filterBy",s.filterBy);try{const r=await Y.query(s.filterBy);console.log("rooms in action (load rooms)",r),t({type:"setRooms",rooms:r})}catch(r){console.log("err",r)}},async getRoom({commit:t,state:s},{id:r}){try{return await Y.getById(r)}catch(i){console.log("err",i)}},async filter({commit:t,dispatch:s},{filterBy:r}){try{t({type:"setFilter",filterBy:r}),await s({type:"loadRooms"})}catch(i){throw console.log("Cannot FilterBy",i),i}}}};const mi="order",te="order/",F={query:pi,getById:gi,save:_i,getEmptyOrder:fi};async function pi(t){return await C.get(te,t)}async function gi(t){return await se.get(mi,t)}async function _i(t){return await C.post(te,t)}function fi(){return{guests:{adults:1,children:0,pets:0,infants:0},dates:{from:null,to:null},reserve:{destination:"",roomName:"",roomId:""},status:"pending"}}var vi={state:{preOrder:F.getEmptyOrder(),orders:[]},getters:{orders(t){return console.log("state.orders",t.orders),JSON.parse(JSON.stringify(t.orders))},getPreOrder({preOrder:t}){return JSON.parse(JSON.stringify(t))}},mutations:{setOrders(t,{orders:s}){t.orders=s},saveDate(t,{selectedDate:s}){t.preOrder.dates=s}},actions:{async loadOrders({commit:t,state:s}){try{const r=await F.query();console.log("order",r),t({type:"setOrders",orders:r})}catch(r){throw console.log("Cannot load orders",r),r}},async addOrder({commit:t},{order:s}){console.log("order",s);try{const r=await F.save(s);return console.log(r),"ordered"}catch(r){throw console.log("Cannot create order",r),r}},getPreOrder(){return F.getEmptyOrder()}}};const Q="loggedin",yi="auth/",I={login:wi,signup:bi,logout:$i,getLoggedinUser:ki,getUsersAvatar:Oi};async function wi(t,s){const r={username:t,password:s};try{const i=await C.post("auth/login",r);return console.log("user login"),N.saveToStorage("loggedin",r),i}catch(i){console.log("cent login",i)}}async function bi(t){console.log("userSignUp",t);try{t.id=N.makeId;const s=await C.post("auth/signup",t);return console.log("sucsess signup",s),s}catch(s){console.log("err",s)}}async function $i(){try{return N.saveToStorage("loggedinUser",""),await C.post(`${yi}/logout`)}catch(t){throw console.log("Cannot logout",t),t}}function ki(){console.log("example",JSON.parse(sessionStorage.getItem(Q)||"null"));let t=JSON.parse(sessionStorage.getItem(Q)||"null");return console.log("loggedInUser",t),t}async function Oi(){try{const t=await X.get("https://randomuser.me/api/");return console.log("res.data",t.data.results[0].picture.medium),t.data.results[0].picture.medium}catch(t){throw console.log("Cannot get avatar",t),t}}var xi={state:{loggedInUser:I.getLoggedinUser(),avatar:null},getters:{loggedInUser(t){return console.log("state.loggedInUser",t.loggedInUser),t.loggedInUser},avatar(t){return t.avatar}},mutations:{setUser(t,{user:s}){t.loggedInUser=s},setLoggedInUser(t,{loggedInUser:s}){t.loggedInUser=s,console.log("loggedInUser after mutation",t.loggedInUser)},setAvatars(t,{avatar:s}){t.avatar=s}},actions:{loadUser({commit:t}){try{const s=I.getLoggedinUser();console.log("user",s),t({type:"setLoggedInUser",user:s})}catch(s){throw console.log("Cannot load user"),s}},async login({commit:t},{username:s,password:r}){try{const i=await I.login(s,r);t({type:"setLoggedInUser",loggedInUser:i})}catch(i){throw console.log("Cannot login ",i),i}},async signUp({commit:t},{userSignUp:s}){console.log("userSignUp",s);try{const r=await I.signup(s)}catch(r){throw console.log("Cannot signUp",r),r}},async loadAvatars({commit:t}){try{const s=await I.getUsersAvatar();return t({type:"setAvatars",avatar:s}),s;console.log("avatar",s)}catch(s){throw console.log("Cannot load avatar",s),s}}}};const Si=ue({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{roomStore:hi,orderStore:vi,userStore:xi}});const R=he(Rt);R.config.productionTip=!1;R.component(W.name,W);R.use(me);R.use(Xl);R.use(Si);R.mount("#app");
